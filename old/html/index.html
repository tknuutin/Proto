<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>{{ title }}</title>
		<link rel="stylesheet" type="text/css" href="style_savedgames.css" />
	</head>
	<body>
	<p>Previous saved games:</p>
	<table style="margin-left:30px;" id="savedgames">
		<th>User</th><th>Player name</th><th>Save name</th><th>Date</th>
		<tr>
			<td onclick='SelectRow(1)' id='cell_1,1'>TestUser</td>
			<td onclick='SelectRow(1)' id='cell_1,2'>Frank</td>
			<td onclick='SelectRow(1)' id='cell_1,3'>frank1</td>
			<td onclick='SelectRow(1)' id='cell_1,4'>2007-04-01</td>
		</tr>
		<tr> 
			<td onclick='SelectRow(2)' id='cell_2,1'>TestUser</td>
			<td onclick='SelectRow(2)' id='cell_2,2'>JEsus the Unforgiving</td>
			<td onclick='SelectRow(2)' id='cell_2,3'>asfasfasf</td>
			<td onclick='SelectRow(2)' id='cell_2,4'>2012-04-23</td>
		</tr>
		<tr>
			<td onclick='SelectRow(3)' id='cell_3,1'>TestUser</td>
			<td onclick='SelectRow(3)' id='cell_3,2'>BATMAN</td>
			<td onclick='SelectRow(3)' id='cell_3,3'>butts</td>
			<td onclick='SelectRow(3)' id='cell_3,4'>2012-05-01</td>
		</tr>
	</table>
	<div style="margin-left:5px; margin-top:20px;">
		<form>Name of new save:
			<input type="text" name="save_name" id="save_name_input" value="" autocomplete="off"/>
			<input class="toplogin" type="submit" value="Save" id="toplogin_submit"/>
		</form>
	</div>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}code_savedgames.js"></script>
	<script type='text/javascript'>
var currentRow=-1;

function SelectRow(newRow){
	for(var i=1;i<5;++i){

		var cell=document.getElementById('cell_'+newRow+','+i);
		cell.style.background='#DBDBDB';

		if(currentRow!=-1){
			var cell=document.getElementById('cell_'+currentRow+','+i);
			cell.style.background='#FFF';
		   
		}
	}
	var save_name = $('#savedgames tr').eq(newRow).find("td").eq(2).html();
	$("#save_name_input").val(save_name);
	
	currentRow=newRow;
}

function IsSelected()
{
   return currentRow==-1?false:true;
}

function GetSelectedRow()
{
   return currentRow;
}
		
$(document).ready(function(){
	$("tr").each(function(){
		$(this).hover(
			function () {
				$(this).css( 'cursor', 'pointer' );
				$(this).removeClass("sideNormal").addClass("sideHover");
			},
			function () {
				$(this).css( 'cursor', 'default' );
				$(this).removeClass("sideHover").addClass("sideNormal");
			}
		);
	});
});
</script>
</body>
</html>